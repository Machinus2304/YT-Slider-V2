<div id="youtube-slider-container" style="width: 100%; height: 100%; position: relative; overflow: hidden;">
  <div id="youtube-slider" style="width: 100%; height: 100%; position: relative; transition: transform 1s ease;">
    <iframe id="youtube-player-1" class="youtube-player" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    <iframe id="youtube-player-2" class="youtube-player" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    <iframe id="youtube-player-3" class="youtube-player" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
  </div>
  <button id="prev-button" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); z-index: 10;">&#8249;</button>
  <button id="next-button" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); z-index: 10;">&#8250;</button>
</div>

<style>
  #youtube-slider-container, #youtube-slider, .youtube-player {
    width: 100%;
    height: 100%;
  }
  .youtube-player {
    position: absolute;
    top: 0;
    left: 0;
  }
  #prev-button, #next-button {
    background: rgba(0,0,0,0.5);
    color: white;
    border: none;
    font-size: 24px;
    padding: 10px;
    cursor: pointer;
  }
</style>

<script>
const videos = [
  'https://www.youtube.com/embed/dQw4w9WgXcQ', // Rick Astley - Never Gonna Give You Up
  'https://www.youtube.com/embed/kJQP7kiw5Fk', // Luis Fonsi - Despacito ft. Daddy Yankee
  'https://www.youtube.com/embed/xC8MaJt7cbs'  // "Bohemian Rhapsody" - Queen - Live Aid 1985
];

let currentVideoIndex = 0;
let intervalId;
const slider = document.getElementById('youtube-slider');
const players = document.getElementsByClassName('youtube-player');

function loadVideos() {
  for (let i = 0; i < players.length; i++) {
    const index = (currentVideoIndex + i) % videos.length;
    players[i].src = videos[index] + '?enablejsapi=1';
  }
}

function slide(direction) {
  currentVideoIndex = (currentVideoIndex + direction + videos.length) % videos.length;
  slider.style.transform = `translateX(${-currentVideoIndex * 100}%)`;
  setTimeout(loadVideos, 1000); // Load new videos after animation
}

function startSlider() {
  loadVideos();
  intervalId = setInterval(() => slide(1), 15000);
}

document.getElementById('prev-button').addEventListener('click', () => {
  clearInterval(intervalId);
  slide(-1);
  intervalId = setInterval(() => slide(1), 15000);
});

document.getElementById('next-button').addEventListener('click', () => {
  clearInterval(intervalId);
  slide(1);
  intervalId = setInterval(() => slide(1), 15000);
});

for (let player of players) {
  player.addEventListener('click', function() {
    clearInterval(intervalId);
    this.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
  });
}

startSlider();
</script>
